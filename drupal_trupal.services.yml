services:
  trupal:
    class: Trupal\Trupal
    factory: [Drupal\drupal_trupal\Trupal\TrupalFactory, 'create']
  drupal_trupal.config:
    factory: ['@config.factory', get]
    class: Drupal\Core\Config\ImmutableConfig
    arguments: [drupal_trupal.settings]
  test_generator:
    class: Drupal\drupal_trupal\generate\DrupalTestGenerator
    calls:
      - [setConfig, ['@drupal_trupal.config']]
    abstract: true
  test_generator.module:
    class: Drupal\drupal_trupal\generate\ModuleTestGenerator
    parent: test_generator
    arguments:
      - '@module_handler'
  test_generator.site:
    class: 'Drupal\drupal_trupal\generate\SiteTestGenerator'
    parent: test_generator
